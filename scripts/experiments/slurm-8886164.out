
CommandNotFoundError: Your shell has not been properly configured to use 'conda activate'.
To initialize your shell, run

    $ conda init <SHELL_NAME>

Currently supported shells are:
  - bash
  - fish
  - tcsh
  - xonsh
  - zsh
  - powershell

See 'conda init --help' for more information and options.

IMPORTANT: You may need to close and restart your shell after running 'conda init'.


Running EcoTyper...
Skipping step 1 (extract cell type specific genes)...
Skipping step 2 (cell state discovery on correrlation matrices)...
Skipping step 3 (choosing the number of cell states)...

Step 4 (extracting cell state information)...
Extracting cell states information for: alpha_beta.t.cell 
Extracting cell states information for: central.venous.hepatic.sinusoidal.endothelial.cell 
Extracting cell states information for: cholangiocyte 
Extracting cell states information for: erythroid.lineage.cell 
Extracting cell states information for: gamma_delta.t.cell 
Extracting cell states information for: hepatocyte 
Extracting cell states information for: inflammatory.macrophage 
Extracting cell states information for: kupffer.cell 
Extracting cell states information for: mature.b.cell 
Extracting cell states information for: natural.killer_like.cell 
Extracting cell states information for: periportal.hepatic.sinusoidal.endothelial.cell 
Extracting cell states information for: plasma.cell 
Extracting cell states information for: portal.endothelial.cell 
Step 4 (extracting cell state information) finished successfully!

Step 5 (cell state re-discovery in expression matrices)...
Extracting marker genes for cell states defined in: alpha_beta.t.cell 
Extracting marker genes for cell states defined in: central.venous.hepatic.sinusoidal.endothelial.cell 
Extracting marker genes for cell states defined in: cholangiocyte 
Extracting marker genes for cell states defined in: erythroid.lineage.cell 
Extracting marker genes for cell states defined in: gamma_delta.t.cell 
Extracting marker genes for cell states defined in: hepatocyte 
Extracting marker genes for cell states defined in: inflammatory.macrophage 
Extracting marker genes for cell states defined in: kupffer.cell 
Extracting marker genes for cell states defined in: mature.b.cell 
Extracting marker genes for cell states defined in: natural.killer_like.cell 
Extracting marker genes for cell states defined in: periportal.hepatic.sinusoidal.endothelial.cell 
Extracting marker genes for cell states defined in: plasma.cell 
Extracting marker genes for cell states defined in: portal.endothelial.cell 

Step 5 (cell state re-discovery in expression matrices): Running NMF on expression matrix...
Running NMF on 'erythroid.lineage.cell' (number of states = 15, restart 1)...
Running NMF on 'erythroid.lineage.cell' (number of states = 15, restart 3)...
Running NMF on 'erythroid.lineage.cell' (number of states = 15, restart 4)...
Running NMF on 'erythroid.lineage.cell' (number of states = 15, restart 2)...
Running NMF on 'erythroid.lineage.cell' (number of states = 15, restart 5)...
Running NMF on 'central.venous.hepatic.sinusoidal.endothelial.cell' (number of states = 4, restart 3)...
Running NMF on 'central.venous.hepatic.sinusoidal.endothelial.cell' (number of states = 4, restart 1)...
Running NMF on 'central.venous.hepatic.sinusoidal.endothelial.cell' (number of states = 4, restart 5)...
Running NMF on 'central.venous.hepatic.sinusoidal.endothelial.cell' (number of states = 4, restart 4)...
Running NMF on 'cholangiocyte' (number of states = 4, restart 4)...
Running NMF on 'cholangiocyte' (number of states = 4, restart 5)...
Running NMF on 'cholangiocyte' (number of states = 4, restart 2)...
Running NMF on 'central.venous.hepatic.sinusoidal.endothelial.cell' (number of states = 4, restart 2)...
Running NMF on 'cholangiocyte' (number of states = 4, restart 3)...
Running NMF on 'cholangiocyte' (number of states = 4, restart 1)...
Running NMF on 'alpha_beta.t.cell' (number of states = 9, restart 1)...
Running NMF on 'alpha_beta.t.cell' (number of states = 9, restart 5)...
Running NMF on 'alpha_beta.t.cell' (number of states = 9, restart 3)...
Running NMF on 'alpha_beta.t.cell' (number of states = 9, restart 2)...
Running NMF on 'alpha_beta.t.cell' (number of states = 9, restart 4)...
Running NMF on 'inflammatory.macrophage' (number of states = 10, restart 4)...
Running NMF on 'inflammatory.macrophage' (number of states = 10, restart 2)...
Running NMF on 'inflammatory.macrophage' (number of states = 10, restart 1)...
Running NMF on 'inflammatory.macrophage' (number of states = 10, restart 3)...
Running NMF on 'inflammatory.macrophage' (number of states = 10, restart 5)...
Running NMF on 'kupffer.cell' (number of states = 7, restart 2)...
Running NMF on 'kupffer.cell' (number of states = 7, restart 3)...
Running NMF on 'kupffer.cell' (number of states = 7, restart 1)...
Running NMF on 'kupffer.cell' (number of states = 7, restart 5)...
Running NMF on 'kupffer.cell' (number of states = 7, restart 4)...
Running NMF on 'hepatocyte' (number of states = 10, restart 2)...
Running NMF on 'hepatocyte' (number of states = 10, restart 3)...
Running NMF on 'hepatocyte' (number of states = 10, restart 4)...
Running NMF on 'hepatocyte' (number of states = 10, restart 5)...
Running NMF on 'hepatocyte' (number of states = 10, restart 1)...
Running NMF on 'plasma.cell' (number of states = 8, restart 2)...
Running NMF on 'plasma.cell' (number of states = 8, restart 3)...
Running NMF on 'plasma.cell' (number of states = 8, restart 1)...
Running NMF on 'plasma.cell' (number of states = 8, restart 5)...
Running NMF on 'plasma.cell' (number of states = 8, restart 4)...
Running NMF on 'periportal.hepatic.sinusoidal.endothelial.cell' (number of states = 5, restart 2)...
Running NMF on 'periportal.hepatic.sinusoidal.endothelial.cell' (number of states = 5, restart 4)...
Running NMF on 'periportal.hepatic.sinusoidal.endothelial.cell' (number of states = 5, restart 3)...
Running NMF on 'periportal.hepatic.sinusoidal.endothelial.cell' (number of states = 5, restart 1)...
Running NMF on 'periportal.hepatic.sinusoidal.endothelial.cell' (number of states = 5, restart 5)...
Running NMF on 'gamma_delta.t.cell' (number of states = 8, restart 1)...
Running NMF on 'gamma_delta.t.cell' (number of states = 8, restart 2)...
Running NMF on 'gamma_delta.t.cell' (number of states = 8, restart 4)...
Running NMF on 'gamma_delta.t.cell' (number of states = 8, restart 3)...
Running NMF on 'gamma_delta.t.cell' (number of states = 8, restart 5)...
Running NMF on 'mature.b.cell' (number of states = 5, restart 5)...
Running NMF on 'mature.b.cell' (number of states = 5, restart 1)...
Running NMF on 'mature.b.cell' (number of states = 5, restart 2)...
Running NMF on 'mature.b.cell' (number of states = 5, restart 4)...
Running NMF on 'mature.b.cell' (number of states = 5, restart 3)...
Running NMF on 'portal.endothelial.cell' (number of states = 4, restart 5)...
Running NMF on 'portal.endothelial.cell' (number of states = 4, restart 3)...
Running NMF on 'portal.endothelial.cell' (number of states = 4, restart 4)...
Running NMF on 'portal.endothelial.cell' (number of states = 4, restart 1)...
Running NMF on 'portal.endothelial.cell' (number of states = 4, restart 2)...
Running NMF on 'natural.killer_like.cell' (number of states = 5, restart 3)...
Running NMF on 'natural.killer_like.cell' (number of states = 5, restart 1)...
Running NMF on 'natural.killer_like.cell' (number of states = 5, restart 2)...
Running NMF on 'natural.killer_like.cell' (number of states = 5, restart 4)...
Running NMF on 'natural.killer_like.cell' (number of states = 5, restart 5)...
Step 5 (cell state re-discovery in expression matrices): Aggregating NMF results...
Combining NMF restarts for 'hepatocyte'...
Combining NMF restarts for 'mature.b.cell'...
Combining NMF restarts for 'alpha_beta.t.cell'...
Combining NMF restarts for 'kupffer.cell'...
Combining NMF restarts for 'erythroid.lineage.cell'...
Combining NMF restarts for 'inflammatory.macrophage'...
Combining NMF restarts for 'gamma_delta.t.cell'...
Combining NMF restarts for 'cholangiocyte'...
Combining NMF restarts for 'natural.killer_like.cell'...
Combining NMF restarts for 'periportal.hepatic.sinusoidal.endothelial.cell'...
Combining NMF restarts for 'central.venous.hepatic.sinusoidal.endothelial.cell'...
Combining NMF restarts for 'plasma.cell'...
Combining NMF restarts for 'portal.endothelial.cell'...
Step 5 (cell state re-discovery in expression matrices) finished successfully!

Step 6 (extracting information for re-discovered cell states)...
Extracting cell states information for: alpha_beta.t.cell 
Extracting cell states information for: central.venous.hepatic.sinusoidal.endothelial.cell 
Extracting cell states information for: cholangiocyte 
Extracting cell states information for: erythroid.lineage.cell 
Extracting cell states information for: gamma_delta.t.cell 
Extracting cell states information for: hepatocyte 
Extracting cell states information for: inflammatory.macrophage 
Extracting cell states information for: kupffer.cell 
Extracting cell states information for: mature.b.cell 
Extracting cell states information for: natural.killer_like.cell 
Extracting cell states information for: periportal.hepatic.sinusoidal.endothelial.cell 
Extracting cell states information for: plasma.cell 
Extracting cell states information for: portal.endothelial.cell 
Step 6 (extracting information for re-discovered cell states) finished successfully!

Step 7 (cell state QC filter)...
Filtering low-quality cell states for: alpha_beta.t.cell 
Filtering low-quality cell states for: central.venous.hepatic.sinusoidal.endothelial.cell 
Filtering low-quality cell states for: cholangiocyte 
Filtering low-quality cell states for: erythroid.lineage.cell 
Filtering low-quality cell states for: gamma_delta.t.cell 
Filtering low-quality cell states for: hepatocyte 
Filtering low-quality cell states for: inflammatory.macrophage 
Filtering low-quality cell states for: kupffer.cell 
Filtering low-quality cell states for: mature.b.cell 
Filtering low-quality cell states for: natural.killer_like.cell 
Filtering low-quality cell states for: periportal.hepatic.sinusoidal.endothelial.cell 
Filtering low-quality cell states for: plasma.cell 
Filtering low-quality cell states for: portal.endothelial.cell 
Step 7 (cell state QC filter) finished successfully!

Step 8 (ecotype discovery)...
Step 8 (ecotype discovery) finished successfully!

Copying EcoTyper results to the output folder!
Warning message:
The output folder contains files from a previous run. Moving those files to: '/data/users/noahkleinschmidt/EcoTyper/results/myHCC Fri Aug 05 09:06:59 PM 2022' 

EcoTyper finished succesfully! Please find the results in: '/data/users/noahkleinschmidt/EcoTyper/results/myHCC'.
Run time: 16 mins
